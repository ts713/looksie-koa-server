{"version":3,"sources":["webpack:///./src/components/calendar/Calendar.vue?1d02","webpack:///./src/assets/images/avatars/1-small.png","webpack:///./node_modules/vue-select/dist/vue-select.js","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/libs/axios.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./src/components/calendar/calendar-event-handler/CalendarEventHandler.vue?4ff0","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/assets/images/avatars/3-small.png","webpack:///./src/assets/images/avatars/7-small.png","webpack:///./src/assets/images/avatars/11-small.png","webpack:///./src/views/Home.vue?3243","webpack:///./src/components/calendar/Calendar.vue?7145","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js","webpack:///./src/components/calendar/calendarStoreModule.js","webpack:///./src/components/calendar/calendar-sidebar/CalendarSidebar.vue?9a9d","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox-group.js","webpack:///./src/components/calendar/calendar-sidebar/useCalendarSidebar.js","webpack:///src/components/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./src/components/calendar/calendar-sidebar/CalendarSidebar.vue?bee0","webpack:///./src/components/calendar/calendar-sidebar/CalendarSidebar.vue","webpack:///./src/components/calendar/calendar-event-handler/CalendarEventHandler.vue?8b35","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./src/components/calendar/calendar-event-handler/useCalendarEventHandler.js","webpack:///src/components/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./src/components/calendar/calendar-event-handler/CalendarEventHandler.vue?8038","webpack:///./src/components/calendar/calendar-event-handler/CalendarEventHandler.vue","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/components/calendar/useCalendar.js","webpack:///src/components/calendar/Calendar.vue","webpack:///./src/components/calendar/Calendar.vue?0749","webpack:///./src/components/calendar/Calendar.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/assets/images/avatars/5-small.png","webpack:///./node_modules/vue-ripple-directive/src/ripple.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/assets/images/avatars/9-small.png"],"names":["module","exports","t","e","self","n","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","iterator","constructor","configurable","writable","Array","isArray","length","toString","from","TypeError","a","props","autoscroll","type","Boolean","watch","typeAheadPointer","this","maybeAdjustScroll","methods","$refs","dropdownMenu","children","getDropdownViewport","getBoundingClientRect","top","bottom","height","scrollTop","offsetTop","u","data","filteredOptions","selectable","typeAheadUp","typeAheadDown","typeAheadSelect","select","loading","mutableLoading","search","$emit","toggleLoading","arguments","h","options","render","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","beforeCreate","concat","Deselect","$createElement","_self","_c","attrs","xmlns","width","OpenIndicator","f","inserted","context","appendToBody","toggle","left","window","scrollX","pageXOffset","scrollY","pageYOffset","unbindPosition","calculatePosition","document","body","appendChild","unbind","parentNode","removeChild","y","keys","sort","forEach","JSON","stringify","b","g","v","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","getOwnPropertyDescriptors","defineProperties","_","components","mixins","directives","disabled","clearable","searchable","multiple","placeholder","String","transition","clearSearchOnSelect","closeOnSelect","label","autocomplete","reduce","Function","getOptionLabel","console","warn","getOptionKey","id","onTab","selectOnTab","isComposing","taggable","tabindex","Number","pushTags","filterable","filterBy","toLowerCase","indexOf","createOption","optionList","resetOnOptionsChange","validator","includes","clearSearchOnBlur","noDrop","inputId","dir","selectOnKeyCodes","searchInputQuerySelector","mapKeydown","style","uid","open","pushedTags","_value","selectedValue","clearSelection","isTrackingValues","setInternalValueFromOptions","created","$on","pushTag","$data","map","findOptionFromReducedValue","isOptionSelected","optionExists","updateValue","onAfterSelect","deselect","optionComparator","searchEl","blur","toggleDropdown","target","preventDefault","deselectButtons","clearButton","some","contains","focus","find","closeSearchOptions","maybeDeleteValue","slice","normalizeOptionForSlot","onEscape","onSearchBlur","mousedown","searching","onSearchFocus","onMousedown","onMouseUp","onSearchKeyDown","8","9","27","38","40","keyCode","computed","propsData","$scopedSlots","selectedOptions","querySelector","scope","attributes","searchPlaceholder","readonly","ref","dropdownOpen","events","compositionstart","compositionend","keydown","input","spinner","noOptions","openIndicator","role","class","listHeader","listFooter","header","footer","childComponents","stateClasses","isValueEmpty","unshift","showClearButton","O","staticClass","_t","_v","on","_l","key","_s","refInFor","title","click","tag","_e","option","_g","_b","name","rawName","expression","mouseup","mouseover","stopPropagation","staticStyle","display","visibility","w","ajax","pointer","pointerScroll","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","autoFillDefaultTime","clickOpens","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","Math","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","undefined","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","bool","debounce","fn","wait","clearTimeout","setTimeout","arrayify","obj","toggleClass","elem","className","classList","remove","createElement","content","textContent","clearNode","node","firstChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","getEventTarget","event","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","test","M","shortMonth","S","seconds","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","minutes","setMinutes","j","month","unixMillSeconds","tokenRegex","toISOString","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","split","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","duration","DAY","getDefaultHours","hours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","requestAnimationFrame","calendarContainer","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","changeYear","handler","ev","el","addEventListener","_handlers","removeEventListener","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","_a","dateToCheck","enable","array","parsed","to","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","ctrlKey","elems","pluginElements","x","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","parse","dataset","formats","_enable","set","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","customPositionElement","calendarHeight","acc","child","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","required","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","args","source","axiosIns","axios","Vue","$http","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","BFormRadio","extend","inject","bvGroup","computedLocalChecked","oldValue","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","_vm","_h","storeInfo","isCalendarOverlaySidebarActive","isEventHandlerSidebarActive","$event","calendarOptions","clearEventData","removeEvent","addEvent","updateEvent","model","callback","$$v","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__spreadArrays","il","jl","defaultProps","__k","__b","__e","__d","__c","__h","__v","vnode","base","__r","debounceRendering","__P","T","__n","ownerSVGElement","A","P","L","I","C","setProperty","cssText","replace","contextType","__E","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","z","diffed","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","__html","checked","unmount","componentWillUnmount","N","q","Consumer","Provider","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","globalObj","globalThis","flushToDom","oldDebounceRendering","callbackQ","execCallbackSync","shift","FullCalendarVDom","Component","createRef","Fragment","createContext","unmountComponentAtNode","_super","FakeComponent","ContextType","origProvider","_this","isNew","subs_1","_props","old","EventSourceApi","internalEventSource","dispatch","sourceId","refetch","sourceIds","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","defId","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","_i","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","sign","minute","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","reverse","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMinHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","unselect","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","segStart","segEnd","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","off","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","EventApi","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","point","rect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","buildNavLinkData","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","getClippingParents","parents","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","BaseComponent","setRef","reduceEventStore","receiveRawEvents","fetchId","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","root","tableCellShaded","buttonGroup","button","buttonActive","RenderHook","rootElRef","handleRootEl","elRef","hookProps","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","MountHook","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","text","eventSourceDef","arg","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef$2","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","tryDrain","pause","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","Interaction","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","onClick","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","currentConfig","sectionConfigs","sections","microColGroupNode","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","renderInnerContent$1","WeekNumberRoot","defaultFormat","renderInner$1","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","currentEl","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","mounted","internal","scopedSlotOptions","calendar","$el","buildOptions","getApi","beforeUpdate","beforeDestroy","buildWatchers","suppliedOptions","watchers","deep","_loop_1","complexOptionName","GlobalVue","installed","install","use","_watch","namespaced","selectedCalendars","getters","mutations","SET_SELECTED_EVENTS","actions","fetchEvents","ctx","calendars","reject","response","catch","post","delete","modifiers","_m","checkAll","OPTIONS_OBJECT_DEPRECATED_MSG","disabledField","htmlField","textField","valueField","formOptionsMixin","formOptions","normalizeOptions","normalizeOption","_objectSpread2","PASS_DOWN_ATTRS","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","ariaInvalid","buttonVariant","buttons","stacked","validated","formRadioCheckGroupMixin","inheritAttrs","localChecked","groupName","safeId","groupClasses","size","isRadioGroup","$attrs","optionComponent","$inputs","domProps","computedAriaInvalid","normalizeSlot","BFormCheckboxGroup","provide","bvCheckGroup","useCalendarSidebar","store","commit","Ripple","BButton","BFormCheckbox","BFormGroup","BLink","require","setup","scopedSlots","_u","hide","eventLocal","handleSubmit","onSubmit","resetForm","validationContext","getValidationState","$set","errors","$store","appConfig","isRTL","guestsOptions","avatar","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","zIndex","slotScope","$content","$title","$close","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","BSidebar","visible","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","hasTitle","$slots","hasNormalizedSlot","titleId","computedAttrs","bvAttrs","emitState","fullPath","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","$nextTick","activated","emitSync","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","enforceFocus","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","_ref","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","margin","once","observer","doneOnce","createObserver","stop","IntersectionObserver","rootMargin","threshold","_unused","observe","entries","entry","isIntersecting","intersectionRatio","disconnect","mod","_prevModifiers","_ref2","VBVisible","componentUpdated","maxRows","noAutoShrink","noResize","BFormTextarea","listeners","heightInPx","styles","resize","computedRows","computedMinRows","math","computedMaxRows","form","plaintext","computedListeners","bvListeners","onInput","change","localValue","visibleCallback","computeHeight","$isServer","lineHeight","minHeight","oldHeight","contentRows","computedClass","formValidation","resetFormData","clearFormData","refFormObserver","resetObserver","reset","dirty","fieldRequired","changed","valid","result","nextTick","clearForm","useCalendarEventHandler","emit","resetEventLocal","eventData","BForm","BFormInput","BAvatar","vSelect","flatPickr","ValidationProvider","BFormInvalidFeedback","ValidationObserver","email","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_WEEK_NUM_FORMAT","TableCell","handleMoreLinkClick","onMoreClick","allSegs","segsByEachCol","hiddenSegs","segIsHidden","moreCnt","dayEl","buildMoreLinkText","dayElRef","dayClassNames","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgPaddingBottom","fgContent","marginTop","moreMarginTop","moreLinkClassNames","moreLinkContent","renderMoreLinkInner","moreLinkDidMount","moreLinkWillUnmount","bgContent","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableListItemEvent","TableBlockEvent","computeFgSegPlacement","cellModels","eventHeights","maxContentHeight","colPlacements","moreCnts","segTops","segMarginTops","moreTops","paddingBottoms","eventHeight","placeSeg","limitByMaxHeight","limitByMaxEvents","limitByMaxRows","placements","currentNonAbsBottom","currentAbsHeight","placements_1","placement","segHeight","tryPlaceSegAt","canPlaceSegAt","insertionIndex","instanceIdAndFirstCol","segsByFirstCol","extractFirstColSegs","segsForCols","extractAllColSegs","resliceDaySegs","oneColPlacements","oneColPlacements_1","oneColPlacements_2","hiddenCnts","limitEvents","levelIndex","_moreLinkConsumesLevel","isPlacementInBounds","segIsVisible","visibleColPlacements","level","placements_2","recordVisible","recordHidden","destPlacements","newPosition","currentLevel","moreLinkConsumesLevel","hiddenCnt","doomedLevel","pop","dayDate","colIndex","dayEnd","dayRange","newSegs","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","segHeights","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","selectedInstanceHash","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","showDayNumbers","showWeekNumbers","fromCol","renderFillSegs","updateSizing","prevState","currentProps","isInvisible","top_1","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","computeSegHeights","computeMaxContentHeight","eventHarnessEl","firstKey","fcContainerEl","getCellEls","elMap","PADDING_FROM_VIEWPORT","SCROLL_DEBOUNCE","Popover","repositioner","handleDocumentMousedown","handleDocumentScroll","handleCloseClick","extraAttrs","alignmentEl","topAlignmentEl","dims","alignment","innerWidth","MorePopover","hiddenInstances","selectedInstanceId","onCloseClick","positionToHit","originRect","elRect","newOriginLeft","newOriginTop","localLeft","localTop","relativeRect","layer","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","buildBuildMoreLinkText","morePopoverRef","rowRefs","morePopoverState","clickOption","moreLinkClick","segForPublic","currentFgEventSegs","fromRow","handleMorePopoverClose","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","headerAlignElRef","rowPositions","rowObj","colPositions","morePopover","morePopoverHit","getCellRange","getCellEl","moreLinkTextInput","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","rawHit","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","OPTION_REFINERS","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","slotDurationMs","slatCoverage","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","computeSegCoords","computeSegVerticals","computeSegHorizontals","forwardCoord","backwardCoord","forwardPressure","level0","levels","buildSlotSegLevels","computeForwardSlotSegs","level0_1","computeSlotSegPressures","level0_2","computeSegForwardBack","computeSlotSegCollisions","otherSegs","results","isSlotSegCollision","seg1","seg2","forwardSegs","forwardSeg","seriesBackwardPressure","seriesBackwardCoord","sortForwardSegs","buildTimeGridSegCompareObj","DEFAULT_TIME_FORMAT","TimeColEvent","isCondensed","TimeColMisc","timeGridEventCondensedHeight","TimeCol","isSelectMirror","mirrorSegs","interactionAffectedInstances","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPrintFgSegs","renderPositionedFgSegs","positionCss","computeSegTopBottomCss","computeFgSegPositionCss","shouldOverlap","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","ListViewHeaderRow","listDayFormat","sideText","listDaySideFormat","navLinkData","ListViewEventRow","renderEventInnerContent","buildTimeContent","anchorAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","bestHit","offsetTracker","originLeft","originTop","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay","handleHitUpdate","isFinal","isInvalid","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay$1","fixedMirrorParent","receivingComponent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","transforms","transforms_1","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","userCalendar","refCalendar","onMounted","calendarsColor","Business","Holiday","Personal","Family","ETC","blankEvent","guests","description","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","existingEvent","grabEventDataFromEventApi","updatedEvent","eventId","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","calendarEvent","colorName","clickedEvent","sidebarToggle","droppedEvent","resizedEvent","CalendarSidebar","CalendarEventHandler","fp","getElem","fpInput","$watch","watchDisabled","immediate","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","binding","setProps","rippler","targetBorder","dx","clientX","dy","clientY","maxX","maxY","radius","sqrt","ripple","rippleContainer","borderRadius","pointerEvents","storedTargetPosition","clearRipple","clearPosition","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","DESCRIPTORS","global","has","isObject","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","symbol","string","desc"],"mappings":"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","file":"js/chunk-626bb446.0f41ea51.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/1-small.1b74d2ba.png\";","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueSelect=e():t.VueSelect=e()}(\"undefined\"!=typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=8)}([function(t,e,n){var o=n(4),i=n(5),s=n(6);t.exports=function(t){return o(t)||i(t)||s()}},function(t,e){function n(e){return\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(e)}t.exports=n},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},function(t,e,n){\"use strict\";var o=n(2);n.n(o).a},function(t,e,n){\"use strict\";n.r(e);var o=n(0),i=n.n(o),s=n(1),r=n.n(s),a=n(3),l=n.n(a),c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),o=e.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.select(t)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit(\"search\",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,o,i,s,r,a){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}var d={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"10\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\"}})])}),[],!1,null,null,null).exports},f={inserted:function(t,e,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=o.calculatePosition(t,o,{width:l+\"px\",left:c+a+\"px\",top:u+r+s+\"px\"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&\"function\"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};var y=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)},b=0;var g=function(){return++b};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:m({},d),mixins:[c,u,p],directives:{appendToBody:f},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:\"\"},transition:{type:String,default:\"vs__fade\"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:\"label\"},autocomplete:{type:String,default:\"off\"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return\"object\"===r()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key \"option.'.concat(this.label,'\" does not')+\" exist in options object \".concat(JSON.stringify(t),\".\\n\")+\"https://vue-select.org/api/props.html#getoptionlabel\"):t}},getOptionKey:{type:Function,default:function(t){if(\"object\"!==r()(t))return t;try{return t.hasOwnProperty(\"id\")?t.id:y(t)}catch(e){return console.warn(\"[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\\nhttps://vue-select.org/api/props.html#getoptionkey\",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||\"\").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var o=n.getOptionLabel(t);return\"number\"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)}))}},createOption:{type:Function,default:function(t){return\"object\"===r()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return[\"function\",\"boolean\"].includes(r()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:\"auto\"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:\"[type=search]\"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var o=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=o}}},data:function(){return{uid:g(),search:\"\",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&(\"function\"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?\"open\":\"close\")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on(\"option:created\",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit(\"option:selecting\",t),this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&this.$emit(\"option:created\",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit(\"option:selected\",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit(\"option:deselecting\",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit(\"option:deselected\",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=\"\")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit(\"input\",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return e.optionComparator(t,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit(\"search:blur\")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return\"object\"===r()(t)?t:l()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search=\"\":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=\"\"),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit(\"search:focus\")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return o[t]=n}));var i=this.mapKeydown(o,this);if(\"function\"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty(\"reduce\")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:m({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,\"aria-autocomplete\":\"list\",\"aria-labelledby\":\"vs\".concat(this.uid,\"__combobox\"),\"aria-controls\":\"vs\".concat(this.uid,\"__listbox\"),ref:\"search\",type:\"search\",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{\"aria-activedescendant\":\"vs\".concat(this.uid,\"__option-\").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:\"openIndicator\",role:\"presentation\",class:\"vs__open-indicator\"}},listHeader:e,listFooter:e,header:m({},e,{deselect:this.deselect}),footer:m({},e,{deselect:this.deselect})}},childComponents:function(){return m({},d,{},this.components)},stateClasses:function(){return{\"vs--open\":this.dropdownOpen,\"vs--single\":!this.multiple,\"vs--searching\":this.searching&&!this.noDrop,\"vs--searchable\":this.searchable&&!this.noDrop,\"vs--unsearchable\":!this.searchable,\"vs--loading\":this.mutableLoading,\"vs--disabled\":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},O=(n(7),h(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"v-select\",class:t.stateClasses,attrs:{dir:t.dir}},[t._t(\"header\",null,null,t.scope.header),t._v(\" \"),n(\"div\",{ref:\"toggle\",staticClass:\"vs__dropdown-toggle\",attrs:{id:\"vs\"+t.uid+\"__combobox\",role:\"combobox\",\"aria-expanded\":t.dropdownOpen.toString(),\"aria-owns\":\"vs\"+t.uid+\"__listbox\",\"aria-label\":\"Search for option\"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n(\"div\",{ref:\"selectedOptions\",staticClass:\"vs__selected-options\"},[t._l(t.selectedValue,(function(e){return t._t(\"selected-option-container\",[n(\"span\",{key:t.getOptionKey(e),staticClass:\"vs__selected\"},[t._t(\"selected-option\",[t._v(\"\\n            \"+t._s(t.getOptionLabel(e))+\"\\n          \")],null,t.normalizeOptionForSlot(e)),t._v(\" \"),t.multiple?n(\"button\",{ref:\"deselectButtons\",refInFor:!0,staticClass:\"vs__deselect\",attrs:{disabled:t.disabled,type:\"button\",title:\"Deselect \"+t.getOptionLabel(e),\"aria-label\":\"Deselect \"+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:\"component\"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(\" \"),t._t(\"search\",[n(\"input\",t._g(t._b({staticClass:\"vs__search\"},\"input\",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(\" \"),n(\"div\",{ref:\"actions\",staticClass:\"vs__actions\"},[n(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showClearButton,expression:\"showClearButton\"}],ref:\"clearButton\",staticClass:\"vs__clear\",attrs:{disabled:t.disabled,type:\"button\",title:\"Clear Selected\",\"aria-label\":\"Clear Selected\"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:\"component\"})],1),t._v(\" \"),t._t(\"open-indicator\",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:\"component\"},\"component\",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(\" \"),t._t(\"spinner\",[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.mutableLoading,expression:\"mutableLoading\"}],staticClass:\"vs__spinner\"},[t._v(\"Loading...\")])],null,t.scope.spinner)],2)]),t._v(\" \"),n(\"transition\",{attrs:{name:t.transition}},[t.dropdownOpen?n(\"ul\",{directives:[{name:\"append-to-body\",rawName:\"v-append-to-body\"}],key:\"vs\"+t.uid+\"__listbox\",ref:\"dropdownMenu\",staticClass:\"vs__dropdown-menu\",attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\",tabindex:\"-1\"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t(\"list-header\",null,null,t.scope.listHeader),t._v(\" \"),t._l(t.filteredOptions,(function(e,o){return n(\"li\",{key:t.getOptionKey(e),staticClass:\"vs__dropdown-option\",class:{\"vs__dropdown-option--selected\":t.isOptionSelected(e),\"vs__dropdown-option--highlight\":o===t.typeAheadPointer,\"vs__dropdown-option--disabled\":!t.selectable(e)},attrs:{role:\"option\",id:\"vs\"+t.uid+\"__option-\"+o,\"aria-selected\":o===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t(\"option\",[t._v(\"\\n          \"+t._s(t.getOptionLabel(e))+\"\\n        \")],null,t.normalizeOptionForSlot(e))],2)})),t._v(\" \"),0===t.filteredOptions.length?n(\"li\",{staticClass:\"vs__no-options\"},[t._t(\"no-options\",[t._v(\"Sorry, no matching options.\")],null,t.scope.noOptions)],2):t._e(),t._v(\" \"),t._t(\"list-footer\",null,null,t.scope.listFooter)],2):n(\"ul\",{staticStyle:{display:\"none\",visibility:\"hidden\"},attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\"}})]),t._v(\" \"),t._t(\"footer\",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports),w={ajax:p,pointer:u,pointerScroll:c};n.d(e,\"VueSelect\",(function(){return O})),n.d(e,\"mixins\",(function(){return w}));e.default=O}])}));\n//# sourceMappingURL=vue-select.js.map","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","import Vue from 'vue'\n\n// axios\nimport axios from 'axios'\n\nconst axiosIns = axios.create({\n  // You can add your headers here\n  // ================================\n  // baseURL: 'https://some-domain.com/api/',\n  // timeout: 1000,\n  // headers: {'X-Custom-Header': 'foobar'}\n})\n\nVue.prototype.$http = axiosIns\n\nexport default axiosIns\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/3-small.33d29f56.png\";","module.exports = __webpack_public_path__ + \"img/7-small.c4993d9a.png\";","module.exports = __webpack_public_path__ + \"img/11-small.4ade0856.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" \"+_vm._s(_vm.storeInfo)+\" \"),_c('h1',[_vm._v(\"My Reports:\")]),_c('calendar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-calendar overflow-hidden border\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\",class:{'show': _vm.isCalendarOverlaySidebarActive}},[_c('calendar-sidebar',{attrs:{\"is-event-handler-sidebar-active\":_vm.isEventHandlerSidebarActive},on:{\"update:isEventHandlerSidebarActive\":function($event){_vm.isEventHandlerSidebarActive=$event},\"update:is-event-handler-sidebar-active\":function($event){_vm.isEventHandlerSidebarActive=$event}}})],1),_c('div',{staticClass:\"col position-relative\"},[_c('div',{staticClass:\"card shadow-none border-0 mb-0 rounded-0\"},[_c('div',{staticClass:\"card-body pb-0\"},[_c('full-calendar',{ref:\"refCalendar\",staticClass:\"full-calendar\",attrs:{\"options\":_vm.calendarOptions}})],1)])]),_c('div',{staticClass:\"body-content-overlay\",class:{'show': _vm.isCalendarOverlaySidebarActive},on:{\"click\":function($event){_vm.isCalendarOverlaySidebarActive = false}}}),_c('calendar-event-handler',{attrs:{\"event\":_vm.event,\"clear-event-data\":_vm.clearEventData},on:{\"remove-event\":_vm.removeEvent,\"add-event\":_vm.addEvent,\"update-event\":_vm.updateEvent},model:{value:(_vm.isEventHandlerSidebarActive),callback:function ($$v) {_vm.isEventHandlerSidebarActive=$$v},expression:\"isEventHandlerSidebarActive\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var n,l,u,i,t,r,o={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,r,o=arguments,f={};for(r in l)\"key\"==r?i=l[r]:\"ref\"==r?t=l[r]:f[r]=l[r];if(arguments.length>3)for(u=[u],r=3;r<arguments.length;r++)u.push(o[r]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(r in n.defaultProps)void 0===f[r]&&(f[r]=n.defaultProps[r]);return v(n,f,i,t,null)}function v(l,u,i,t,r){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++n.__v:r};return null!=n.vnode&&n.vnode(o),o}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!m.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(m)}function m(){for(var n;m.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,r,o;n.__d&&(r=(t=(l=n).__v).__e,(o=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,T(o,t,i,l.__n,void 0!==o.ownerSVGElement,null!=t.__h?[r]:null,u,null==r?d(t):r,t.__h),j(u,t),t.__e!=r&&_(t)))})}function b(n,l,u,i,t,r,e,c,s,a){var h,p,_,k,m,b,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}T(n,k,_=_||o,t,r,e,c,s,a),m=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||m,k)),null!=m?(null==b&&(b=m),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,m,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=b,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)I(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function A(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||C(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||C(n,r,l[r],u[r],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?H:$,r):n.removeEventListener(l,r?H:$,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(l,u,i,t,r,o,f,e,s){var a,v,h,d,_,k,m,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?m=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,b(l,Array.isArray(A)?A:[A],u,i,t,r,o,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),m&&(v.__E=v.__=null),v.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=z(i.__e,u,i,t,r,o,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=o)&&(u.__e=e,u.__h=!!s,o[o.indexOf(e)]=null),n.__e(l,u,i)}}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function z(n,l,u,i,t,r,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=r)for(;k<r.length;k++)if((a=r[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,r[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),r=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(r=r&&f.slice.call(n.childNodes),v=(p=u.props||o).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=r)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,b(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,r,e,n.firstChild,c),null!=r)for(k=r.length;k--;)null!=r[k]&&s(r[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,r,o;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(r=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(o=0;o<t.length;o++)t[o]&&L(t[o],u,i);null!=r&&s(r)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,r,e;n.__&&n.__(l,u),r=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],T(u,l=(!t&&i||u).__k=a(y,null,[l]),r||o,o,void 0!==u.ownerSVGElement,!t&&i?[i]:r?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:r?r.__e:u.firstChild,t),j(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,r,o=arguments,f=c({},n.props);for(r in l)\"key\"==r?i=l[r]:\"ref\"==r?t=l[r]:f[r]=l[r];if(arguments.length>3)for(u=[u],r=3;r<arguments.length;r++)u.push(o[r]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,m.__r=0,r=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import { __extends } from 'tslib';\nimport { Component, createElement, render, createRef, Fragment, options, createContext as createContext$1 } from 'preact';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: Component,\n        createElement: createElement,\n        render: render,\n        createRef: createRef,\n        Fragment: Fragment,\n        createContext: createContext,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    options.debounceRendering = execCallbackSync;\n    render(createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(Component));\nfunction createContext(defaultValue) {\n    var ContextType = createContext$1(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    render(null, node);\n}\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n\nexport { Component, Fragment, createContext, createElement, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.5.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArrays, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0),\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMinHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []),\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    if (displayEventTime && !eventDef.allDay && (seg.isStart || seg.isEnd)) {\n        var segStart = startOverride || (seg.isStart ? eventInstance.range.start : (seg.start || seg.eventRange.range.start));\n        var segEnd = endOverride || (seg.isEnd ? eventInstance.range.end : (seg.end || seg.eventRange.range.end));\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo,\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArrays([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }),\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4,\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours',\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime));\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, context) {\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, context) {\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for MorePopover\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, this.context);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for MorePopover\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, this.context);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-daygrid-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        eventResizeJoinTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target);\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef$2 = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef$2],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData,\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArrays(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArrays(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive',\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArrays([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArrays([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArrays([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArrays([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArrays([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArrays([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArrays([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5),\n    };\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '',\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArrays(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className,\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArrays(['tbody', {}], headSectionNodes, bodySectionNodes, footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: scrollerClientWidths[sectionKey] !== undefined ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent$1, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent$1(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner$1, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner$1(innerProps) {\n    return innerProps.text;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.5.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, buildClassNameNormalizer, buildEventApis, buildEventRangeKey, buildHashFromArray, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.5.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); },\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});","import axios from '@axios'\n\nexport default {\n  namespaced: true,\n  state: {\n    calendarOptions: [\n      {\n        color: 'primary',\n        label: 'Sales and Orders',\n      },\n      {\n        color: 'primary',\n        label: 'Fulfillment and Shipping',\n      },\n      {\n        color: 'primary',\n        label: 'Tax',\n      },\n      {\n        color: 'primary',\n        label: 'Billing and Transactions',\n      },\n      {\n        color: 'primary',\n        label: 'Customers',\n      },\n      {\n        color: 'primary',\n        label: 'Products',\n      },\n      {\n        color: 'primary',\n        label: 'Marketing',\n      },\n      {\n        color: 'primary',\n        label: 'Inventory',\n      },\n      {\n        color: 'primary',\n        label: 'Payout Reports',\n      },\n    ],\n    selectedCalendars: [\n      'Sales and Orders', 'Fulfillment and Shipping', 'Tax', 'Billing and Transactions',\n      'Customers', 'Products', 'Marketing', 'Inventory', 'Payout Reports',\n    ],\n  },\n  getters: {},\n  mutations: {\n    SET_SELECTED_EVENTS(state, val) {\n      state.selectedCalendars = val\n    },\n  },\n  actions: {\n    fetchEvents(ctx, { calendars }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .get('/apps/calendar/events', {\n            params: {\n              calendars: calendars.join(','),\n            },\n          })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    addEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post('/apps/calendar/events', { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    updateEvent(ctx, { event }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`/apps/calendar/events/${event.id}`, { event })\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n    removeEvent(ctx, { id }) {\n      return new Promise((resolve, reject) => {\n        axios\n          .delete(`/apps/calendar/events/${id}`)\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n      })\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\"},[_c('div',{staticClass:\"p-2\"},[_c('b-link',{attrs:{\"to\":\"/reports\"}},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"aria-controls\":\"sidebar-add-new-event\",\"aria-expanded\":String(_vm.isEventHandlerSidebarActive),\"variant\":\"primary\",\"block\":\"\"}},[_vm._v(\" Add Report \")])],1),_c('div',{staticClass:\"mt-3\"},[_vm._m(0),_c('b-form-checkbox',{staticClass:\"mb-1\",model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\" View All \")]),_c('b-form-group',[_c('b-form-checkbox-group',{attrs:{\"name\":\"event-filter\",\"stacked\":\"\"},model:{value:(_vm.selectedCalendars),callback:function ($$v) {_vm.selectedCalendars=$$v},expression:\"selectedCalendars\"}},_vm._l((_vm.calendarOptions),function(item){return _c('b-form-checkbox',{key:item.label,staticClass:\"mb-1\",class:(\"custom-control-\" + (item.color)),attrs:{\"name\":\"event-filter\",\"value\":item.label}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"app-label section-label mb-1\"},[_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Categories\")])])}]\n\nexport { render, staticRenderFns }","import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX_GROUP } from '../../constants/components';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_PROP_NAME, formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckGroupProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME, makeProp(PROP_TYPE_ARRAY, [])), _defineProperty(_objectSpread2, \"switches\", makeProp(PROP_TYPE_BOOLEAN, false)), _objectSpread2))), NAME_FORM_CHECKBOX_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckboxGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX_GROUP,\n  // Includes render function\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvCheckGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return false;\n    }\n  }\n});","import store from '@/store'\n\nimport { computed } from '@vue/composition-api'\n\nexport default function useCalendarSidebar() {\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed({\n    get: () => store.state.calendar.selectedCalendars,\n    set: val => {\n      store.commit('calendar/SET_SELECTED_EVENTS', val)\n    },\n  })\n\n  // ------------------------------------------------\n  // checkAll\n  // ------------------------------------------------\n  const checkAll = computed({\n    /*\n      GET: Return boolean `true` => if length of options matches length of selected filters => Length matches when all events are selected\n      SET: If value is `true` => then add all available options in selected filters => Select All\n           Else if => all filters are selected (by checking length of both array) => Empty Selected array  => Deselect All\n    */\n    get: () => selectedCalendars.value.length === calendarOptions.value.length,\n    set: val => {\n      if (val) {\n        selectedCalendars.value = calendarOptions.value.map(i => i.label)\n      } else if (selectedCalendars.value.length === calendarOptions.value.length) {\n        selectedCalendars.value = []\n      }\n    },\n  })\n\n  return {\n    calendarOptions,\n    selectedCalendars,\n    checkAll,\n  }\n}\n","<template>\n  <div class=\"sidebar-wrapper d-flex justify-content-between flex-column flex-grow-1\">\n    <div class=\"p-2\">\n      <b-link\n        to=\"/reports\"\n      >\n        <b-button\n          v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n          aria-controls=\"sidebar-add-new-event\"\n          :aria-expanded=\"String(isEventHandlerSidebarActive)\"\n          variant=\"primary\"\n          block\n        >\n          Add Report\n        </b-button>\n      </b-link>\n      <div class=\"mt-3\">\n        <h5 class=\"app-label section-label mb-1\">\n          <span class=\"align-middle\">Categories</span>\n        </h5>\n        <b-form-checkbox\n          v-model=\"checkAll\"\n          class=\"mb-1\"\n        >\n          View All\n        </b-form-checkbox>\n        <b-form-group>\n          <b-form-checkbox-group\n            v-model=\"selectedCalendars\"\n            name=\"event-filter\"\n            stacked\n          >\n            <b-form-checkbox\n              v-for=\"item in calendarOptions\"\n              :key=\"item.label\"\n              name=\"event-filter\"\n              :value=\"item.label\"\n              class=\"mb-1\"\n              :class=\"`custom-control-${item.color}`\"\n            >\n              {{ item.label }}\n            </b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  BButton, BFormGroup, BFormCheckboxGroup, BFormCheckbox, BLink,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport useCalendarSidebar from './useCalendarSidebar'\n\nexport default {\n  directives: {\n    Ripple,\n  },\n  components: {\n    BButton,\n    BFormCheckbox,\n    BFormGroup,\n    BFormCheckboxGroup,\n    BLink,\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      require: true,\n    },\n  },\n  setup() {\n    const {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    } = useCalendarSidebar()\n\n    return {\n      calendarOptions,\n      selectedCalendars,\n      checkAll,\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>\n","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarSidebar.vue?vue&type=template&id=3223fc9b&\"\nimport script from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-sidebar',{attrs:{\"id\":\"sidebar-add-new-event\",\"sidebar-class\":\"sidebar-lg\",\"visible\":_vm.isEventHandlerSidebarActive,\"bg-variant\":\"white\",\"shadow\":\"\",\"backdrop\":\"\",\"no-header\":\"\",\"right\":\"\"},on:{\"change\":function (val) { return _vm.$emit('update:is-event-handler-sidebar-active', val); }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update': 'Add')+\" Event \")]),_c('div',[(_vm.eventLocal.id)?_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){_vm.$emit('remove-event'); hide();}}}):_vm._e(),_c('feather-icon',{staticClass:\"ml-1 cursor-pointer\",attrs:{\"icon\":\"XIcon\",\"size\":\"16\"},on:{\"click\":hide}})],1)]),_c('validation-observer',{ref:\"refFormObserver\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"p-2\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)},\"reset\":function($event){$event.preventDefault();return _vm.resetForm($event)}}},[_c('validation-provider',{attrs:{\"name\":\"Title\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Title\",\"label-for\":\"event-title\"}},[_c('b-form-input',{attrs:{\"id\":\"event-title\",\"autofocus\":\"\",\"state\":_vm.getValidationState(validationContext),\"trim\":\"\",\"placeholder\":\"Event Title\"},model:{value:(_vm.eventLocal.title),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"title\", $$v)},expression:\"eventLocal.title\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Calendar\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Calendar\",\"label-for\":\"calendar\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.calendarOptions,\"label\":\"label\",\"reduce\":function (calendar) { return calendar.label; },\"input-id\":\"calendar\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}},{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nvar label = ref.label;\nreturn [_c('div',{staticClass:\"rounded-circle d-inline-block mr-50\",class:(\"bg-\" + color),staticStyle:{\"height\":\"10px\",\"width\":\"10px\"}}),_c('span',[_vm._v(\" \"+_vm._s(label))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.calendar),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"calendar\", $$v)},expression:\"eventLocal.extendedProps.calendar\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Start Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.start),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"start\", $$v)},expression:\"eventLocal.start\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{ enableTime: true, dateFormat: 'Y-m-d H:i'}},model:{value:(_vm.eventLocal.end),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"end\", $$v)},expression:\"eventLocal.end\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"switch\":\"\",\"inline\":\"\"},model:{value:(_vm.eventLocal.allDay),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"allDay\", $$v)},expression:\"eventLocal.allDay\"}},[_vm._v(\" All Day \")])],1),_c('validation-provider',{attrs:{\"name\":\"Event URL\",\"rules\":\"url\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Event URL\",\"label-for\":\"event-url\"}},[_c('b-form-input',{attrs:{\"id\":\"event-url\",\"type\":\"url\",\"state\":_vm.getValidationState(validationContext),\"placeholder\":\"htttps://www.google.com\",\"trim\":\"\"},model:{value:(_vm.eventLocal.eventUrl),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"eventUrl\", $$v)},expression:\"eventLocal.eventUrl\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',{attrs:{\"label\":\"Add Guests\",\"label-for\":\"add-guests\"}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"multiple\":\"\",\"close-on-select\":false,\"options\":_vm.guestsOptions,\"label\":\"name\",\"input-id\":\"add-guests\"},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}},{key:\"selected-option\",fn:function(ref){\nvar avatar = ref.avatar;\nvar name = ref.name;\nreturn [_c('b-avatar',{staticClass:\"border border-white\",attrs:{\"size\":\"sm\",\"src\":avatar}}),_c('span',{staticClass:\"ml-50 align-middle\"},[_vm._v(\" \"+_vm._s(name))])]}}],null,true),model:{value:(_vm.eventLocal.extendedProps.guests),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"guests\", $$v)},expression:\"eventLocal.extendedProps.guests\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Location\",\"label-for\":\"event-location\"}},[_c('b-form-input',{attrs:{\"id\":\"event-location\",\"trim\":\"\",\"placeholder\":\"Event Location\"},model:{value:(_vm.eventLocal.extendedProps.location),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"location\", $$v)},expression:\"eventLocal.extendedProps.location\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"event-description\"}},[_c('b-form-textarea',{attrs:{\"id\":\"event-description\"},model:{value:(_vm.eventLocal.extendedProps.description),callback:function ($$v) {_vm.$set(_vm.eventLocal.extendedProps, \"description\", $$v)},expression:\"eventLocal.extendedProps.description\"}})],1),_c('div',{staticClass:\"d-flex mt-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update' : 'Add ')+\" \")]),_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(186, 191, 199, 0.15)'),expression:\"'rgba(186, 191, 199, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"type\":\"reset\",\"variant\":\"outline-secondary\"}},[_vm._v(\" Reset \")])],1)],1)]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","import { ref, nextTick } from '@vue/composition-api'\n\n// ===========================================================\n// ! This is coupled with \"veeValidate\" plugin\n// ===========================================================\n\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\n  // ------------------------------------------------\n  // refFormObserver\n  // ! This is for veeValidate Observer\n  // * Used for veeValidate form observer\n  // ------------------------------------------------\n  const refFormObserver = ref(null)\n\n  // ------------------------------------------------\n  // resetObserver\n  // ! This function is coupled with veeValidate\n  // * It resets form observer\n  // ------------------------------------------------\n  const resetObserver = () => {\n    refFormObserver.value.reset()\n  }\n\n  // ------------------------------------------------\n  // getValidationState\n  // ! This function is coupled with veeValidate\n  // * It returns true/false based on validation\n  // ------------------------------------------------\n  // eslint-disable-next-line object-curly-newline\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\n    const result = dirty || validated ? valid : null\n    return !fieldRequired && !changed ? null : result\n  }\n\n  // ------------------------------------------------\n  // resetForm\n  // ! This function is coupled with veeValidate\n  // * This uses resetFormData arg to reset form data\n  // ------------------------------------------------\n  const resetForm = () => {\n    resetFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  // ------------------------------------------------\n  // clearForm\n  // ! This function is coupled with veeValidate\n  // * This uses clearFormData arg to reset form data\n  // ------------------------------------------------\n  const clearForm = () => {\n    clearFormData()\n    nextTick(() => {\n      resetObserver()\n    })\n  }\n\n  return {\n    refFormObserver,\n    resetObserver,\n    getValidationState,\n    resetForm,\n    clearForm,\n  }\n}\n","import { ref, computed, watch } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function useCalendarEventHandler(props, clearForm, emit) {\n  // ------------------------------------------------\n  // eventLocal\n  // ------------------------------------------------\n  const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\n  const resetEventLocal = () => {\n    eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\n  }\n  watch(props.event, () => {\n    resetEventLocal()\n  })\n\n  // ------------------------------------------------\n  // isEventHandlerSidebarActive\n  // * Clear form if sidebar is closed\n  // ------------------------------------------------\n  watch(props.isEventHandlerSidebarActive, val => {\n    // ? Don't reset event till transition is finished\n    if (!val) {\n      setTimeout(() => {\n        clearForm.value()\n      }, 350)\n    }\n  })\n  // ------------------------------------------------\n  // calendarOptions\n  // ------------------------------------------------\n  const calendarOptions = computed(() => store.state.calendar.calendarOptions)\n\n  const onSubmit = () => {\n    const eventData = JSON.parse(JSON.stringify(eventLocal))\n\n    // * If event has id => Edit Event\n    // Emit event for add/update event\n    if (props.event.value.id) emit('update-event', eventData.value)\n    else emit('add-event', eventData.value)\n\n    // Close sidebar\n    emit('update:is-event-handler-sidebar-active', false)\n  }\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  // ------------------------------------------------\n  // guestOptions\n  // ------------------------------------------------\n\n  /* eslint-disable global-require */\n  const guestsOptions = [\n    { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\n    { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\n    { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\n    { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\n    { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\n    { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\n  ]\n  /* eslint-enable global-require */\n\n  return {\n    eventLocal,\n    resetEventLocal,\n    calendarOptions,\n\n    // UI\n    guestsOptions,\n    onSubmit,\n  }\n}\n","<template>\n  <div>\n    <b-sidebar\n      id=\"sidebar-add-new-event\"\n      sidebar-class=\"sidebar-lg\"\n      :visible=\"isEventHandlerSidebarActive\"\n      bg-variant=\"white\"\n      shadow\n      backdrop\n      no-header\n      right\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\n    >\n      <template #default=\"{ hide }\">\n        <!-- Header -->\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\n          <h5 class=\"mb-0\">\n            {{ eventLocal.id ? 'Update': 'Add' }} Event\n          </h5>\n          <div>\n            <feather-icon\n              v-if=\"eventLocal.id\"\n              icon=\"TrashIcon\"\n              class=\"cursor-pointer\"\n              @click=\"$emit('remove-event'); hide();\"\n            />\n            <feather-icon\n              class=\"ml-1 cursor-pointer\"\n              icon=\"XIcon\"\n              size=\"16\"\n              @click=\"hide\"\n            />\n          </div>\n        </div>\n\n        <!-- Body -->\n        <validation-observer\n          #default=\"{ handleSubmit }\"\n          ref=\"refFormObserver\"\n        >\n\n          <!-- Form -->\n          <b-form\n            class=\"p-2\"\n            @submit.prevent=\"handleSubmit(onSubmit)\"\n            @reset.prevent=\"resetForm\"\n          >\n\n            <!-- Title -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Title\"\n              rules=\"required\"\n            >\n              <b-form-group\n                label=\"Title\"\n                label-for=\"event-title\"\n              >\n                <b-form-input\n                  id=\"event-title\"\n                  v-model=\"eventLocal.title\"\n                  autofocus\n                  :state=\"getValidationState(validationContext)\"\n                  trim\n                  placeholder=\"Event Title\"\n                />\n\n                <b-form-invalid-feedback>\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Calendar -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Calendar\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Calendar\"\n                label-for=\"calendar\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <v-select\n                  v-model=\"eventLocal.extendedProps.calendar\"\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                  :options=\"calendarOptions\"\n                  label=\"label\"\n                  :reduce=\"calendar => calendar.label\"\n                  input-id=\"calendar\"\n                >\n\n                  <template #option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n\n                  <template #selected-option=\"{ color, label }\">\n                    <div\n                      class=\"rounded-circle d-inline-block mr-50\"\n                      :class=\"`bg-${color}`\"\n                      style=\"height:10px;width:10px\"\n                    />\n                    <span> {{ label }}</span>\n                  </template>\n                </v-select>\n\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Start Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Start Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"Start Date\"\n                label-for=\"start-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.start\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- End Date -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"End Date\"\n              rules=\"required\"\n            >\n\n              <b-form-group\n                label=\"End Date\"\n                label-for=\"end-date\"\n                :state=\"getValidationState(validationContext)\"\n              >\n                <flat-pickr\n                  v-model=\"eventLocal.end\"\n                  class=\"form-control\"\n                  :config=\"{ enableTime: true, dateFormat: 'Y-m-d H:i'}\"\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- All Day -->\n            <b-form-group>\n              <b-form-checkbox\n                v-model=\"eventLocal.allDay\"\n                name=\"check-button\"\n                switch\n                inline\n              >\n                All Day\n              </b-form-checkbox>\n            </b-form-group>\n\n            <!-- Event URL -->\n            <validation-provider\n              #default=\"validationContext\"\n              name=\"Event URL\"\n              rules=\"url\"\n            >\n\n              <b-form-group\n                label=\"Event URL\"\n                label-for=\"event-url\"\n              >\n                <b-form-input\n                  id=\"event-url\"\n                  v-model=\"eventLocal.eventUrl\"\n                  type=\"url\"\n                  :state=\"getValidationState(validationContext)\"\n                  placeholder=\"htttps://www.google.com\"\n                  trim\n                />\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\n                  {{ validationContext.errors[0] }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n            </validation-provider>\n\n            <!-- Guests -->\n            <b-form-group\n              label=\"Add Guests\"\n              label-for=\"add-guests\"\n            >\n              <v-select\n                v-model=\"eventLocal.extendedProps.guests\"\n                :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                multiple\n                :close-on-select=\"false\"\n                :options=\"guestsOptions\"\n                label=\"name\"\n                input-id=\"add-guests\"\n              >\n\n                <template #option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n\n                <template #selected-option=\"{ avatar, name }\">\n                  <b-avatar\n                    size=\"sm\"\n                    class=\"border border-white\"\n                    :src=\"avatar\"\n                  />\n                  <span class=\"ml-50 align-middle\"> {{ name }}</span>\n                </template>\n              </v-select>\n            </b-form-group>\n\n            <!-- Location -->\n            <b-form-group\n              label=\"Location\"\n              label-for=\"event-location\"\n            >\n              <b-form-input\n                id=\"event-location\"\n                v-model=\"eventLocal.extendedProps.location\"\n                trim\n                placeholder=\"Event Location\"\n              />\n            </b-form-group>\n\n            <!-- Textarea -->\n            <b-form-group\n              label=\"Description\"\n              label-for=\"event-description\"\n            >\n              <b-form-textarea\n                id=\"event-description\"\n                v-model=\"eventLocal.extendedProps.description\"\n              />\n            </b-form-group>\n\n            <!-- Form Actions -->\n            <div class=\"d-flex mt-2\">\n              <b-button\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                variant=\"primary\"\n                class=\"mr-2\"\n                type=\"submit\"\n              >\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\n              </b-button>\n              <b-button\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\n                type=\"reset\"\n                variant=\"outline-secondary\"\n              >\n                Reset\n              </b-button>\n            </div>\n          </b-form>\n        </validation-observer>\n      </template>\n    </b-sidebar>\n  </div>\n</template>\n\n<script>\nimport {\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\n} from 'bootstrap-vue'\nimport vSelect from 'vue-select'\nimport flatPickr from 'vue-flatpickr-component'\nimport Ripple from 'vue-ripple-directive'\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\nimport { required, email, url } from '@validations'\nimport formValidation from '@core/comp-functions/forms/form-validation'\nimport { ref, toRefs } from '@vue/composition-api'\nimport useCalendarEventHandler from './useCalendarEventHandler'\n\nexport default {\n  components: {\n    BButton,\n    BSidebar,\n    BForm,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BFormTextarea,\n    BAvatar,\n    vSelect,\n    flatPickr,\n    ValidationProvider,\n    BFormInvalidFeedback,\n    ValidationObserver,\n  },\n  directives: {\n    Ripple,\n  },\n  model: {\n    prop: 'isEventHandlerSidebarActive',\n    event: 'update:is-event-handler-sidebar-active',\n  },\n  props: {\n    isEventHandlerSidebarActive: {\n      type: Boolean,\n      required: true,\n    },\n    event: {\n      type: Object,\n      required: true,\n    },\n    clearEventData: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      required,\n      email,\n      url,\n    }\n  },\n  setup(props, { emit }) {\n    /*\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\n     * The Trick:\n\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. \n\n     ? Behind The Scene\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\n    */\n    const clearFormData = ref(null)\n\n    const {\n      eventLocal,\n      resetEventLocal,\n      calendarOptions,\n\n      // UI\n      onSubmit,\n      guestsOptions,\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\n\n    const {\n      refFormObserver,\n      getValidationState,\n      resetForm,\n      clearForm,\n    } = formValidation(resetEventLocal, props.clearEventData)\n\n    clearFormData.value = clearForm\n\n    return {\n      // Add New Event\n      eventLocal,\n      calendarOptions,\n      onSubmit,\n      guestsOptions,\n\n      // Form Validation\n      resetForm,\n      refFormObserver,\n      getValidationState,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-select.scss';\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarEventHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarEventHandler.vue?vue&type=template&id=567ab912&\"\nimport script from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarEventHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, DateComponent, renderScrollShim, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, setRef, DayCellRoot, WeekNumberRoot, RenderHook, buildSegTimeText, EventRoot, StandardEvent, sortEventSegs, addDays, intersectRanges, RefMap, isPropsEqual, getSegMeta, buildEventRangeKey, BgEvent, renderFill, PositionCache, mapHash, DelayedRunner, applyStyle, memoize, NowTimer, EventApi, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArrays } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            setRef(_this.props.elRef, el);\n        };\n        _this.handleMoreLinkClick = function (ev) {\n            var props = _this.props;\n            if (props.onMoreClick) {\n                var allSegs = props.segsByEachCol;\n                var hiddenSegs = allSegs.filter(function (seg) { return props.segIsHidden[seg.eventRange.instance.instanceId]; });\n                props.onMoreClick({\n                    date: props.date,\n                    allSegs: allSegs,\n                    hiddenSegs: hiddenSegs,\n                    moreCnt: props.moreCnt,\n                    dayEl: _this.rootEl,\n                    ev: ev,\n                });\n            }\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var hookProps = {\n            num: props.moreCnt,\n            text: props.buildMoreLinkText(props.moreCnt),\n            view: viewApi,\n        };\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef, style: { paddingBottom: props.fgPaddingBottom } },\n                    props.fgContent,\n                    Boolean(props.moreCnt) && (createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(RenderHook, { hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: _this.handleMoreLinkClick }, innerContent)); })))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\nTableCell.addPropsEquality({\n    onMoreClick: true,\n});\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nfunction computeFgSegPlacement(// for one row. TODO: print mode?\ncellModels, segs, dayMaxEvents, dayMaxEventRows, eventHeights, maxContentHeight, colCnt, eventOrderSpecs) {\n    var colPlacements = []; // if event spans multiple cols, its present in each col\n    var moreCnts = []; // by-col\n    var segIsHidden = {};\n    var segTops = {}; // always populated for each seg\n    var segMarginTops = {}; // simetimes populated for each seg\n    var moreTops = {};\n    var paddingBottoms = {}; // for each cell's inner-wrapper div\n    for (var i = 0; i < colCnt; i += 1) {\n        colPlacements.push([]);\n        moreCnts.push(0);\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventHeights[instanceId + ':' + seg.firstCol];\n        placeSeg(seg, eventHeight || 0); // will keep colPlacements sorted by top\n    }\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        limitByMaxHeight(moreCnts, segIsHidden, colPlacements, maxContentHeight); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        limitByMaxEvents(moreCnts, segIsHidden, colPlacements, dayMaxEvents); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        limitByMaxRows(moreCnts, segIsHidden, colPlacements, dayMaxEventRows); // populates moreCnts/segIsHidden\n    }\n    // computes segTops/segMarginTops/moreTops/paddingBottoms\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var currentNonAbsBottom = 0;\n        var currentAbsHeight = 0;\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            var seg = placement.seg;\n            if (!segIsHidden[seg.eventRange.instance.instanceId]) {\n                segTops[seg.eventRange.instance.instanceId] = placement.top; // from top of container\n                if (seg.firstCol === seg.lastCol && seg.isStart && seg.isEnd) { // TODO: simpler way? NOT DRY\n                    segMarginTops[seg.eventRange.instance.instanceId] =\n                        placement.top - currentNonAbsBottom; // from previous seg bottom\n                    currentAbsHeight = 0;\n                    currentNonAbsBottom = placement.bottom;\n                }\n                else { // multi-col event, abs positioned\n                    currentAbsHeight = placement.bottom - currentNonAbsBottom;\n                }\n            }\n        }\n        if (currentAbsHeight) {\n            if (moreCnts[col]) {\n                moreTops[col] = currentAbsHeight;\n            }\n            else {\n                paddingBottoms[col] = currentAbsHeight;\n            }\n        }\n    }\n    function placeSeg(seg, segHeight) {\n        if (!tryPlaceSegAt(seg, segHeight, 0)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) { // will repeat multi-day segs!!!!!!! bad!!!!!!\n                    var placement = _a[_i];\n                    if (tryPlaceSegAt(seg, segHeight, placement.bottom)) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    function tryPlaceSegAt(seg, segHeight, top) {\n        if (canPlaceSegAt(seg, segHeight, top)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var placements = colPlacements[col];\n                var insertionIndex = 0;\n                while (insertionIndex < placements.length &&\n                    top >= placements[insertionIndex].top) {\n                    insertionIndex += 1;\n                }\n                placements.splice(insertionIndex, 0, {\n                    seg: seg,\n                    top: top,\n                    bottom: top + segHeight,\n                });\n            }\n            return true;\n        }\n        return false;\n    }\n    function canPlaceSegAt(seg, segHeight, top) {\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) {\n                var placement = _a[_i];\n                if (top < placement.bottom && top + segHeight > placement.top) { // collide?\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // what does this do!?\n    for (var instanceIdAndFirstCol in eventHeights) {\n        if (!eventHeights[instanceIdAndFirstCol]) {\n            segIsHidden[instanceIdAndFirstCol.split(':')[0]] = true;\n        }\n    }\n    var segsByFirstCol = colPlacements.map(extractFirstColSegs); // operates on the sorted cols\n    var segsByEachCol = colPlacements.map(function (placements, col) {\n        var segsForCols = extractAllColSegs(placements);\n        segsForCols = resliceDaySegs(segsForCols, cellModels[col].date, col);\n        return segsForCols;\n    });\n    return {\n        segsByFirstCol: segsByFirstCol,\n        segsByEachCol: segsByEachCol,\n        segIsHidden: segIsHidden,\n        segTops: segTops,\n        segMarginTops: segMarginTops,\n        moreCnts: moreCnts,\n        moreTops: moreTops,\n        paddingBottoms: paddingBottoms,\n    };\n}\nfunction extractFirstColSegs(oneColPlacements, col) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_1 = oneColPlacements; _i < oneColPlacements_1.length; _i++) {\n        var placement = oneColPlacements_1[_i];\n        if (placement.seg.firstCol === col) {\n            segs.push(placement.seg);\n        }\n    }\n    return segs;\n}\nfunction extractAllColSegs(oneColPlacements) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_2 = oneColPlacements; _i < oneColPlacements_2.length; _i++) {\n        var placement = oneColPlacements_2[_i];\n        segs.push(placement.seg);\n    }\n    return segs;\n}\nfunction limitByMaxHeight(hiddenCnts, segIsHidden, colPlacements, maxContentHeight) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement) { return placement.bottom <= maxContentHeight; });\n}\nfunction limitByMaxEvents(hiddenCnts, segIsHidden, colPlacements, dayMaxEvents) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, false, function (placement, levelIndex) { return levelIndex < dayMaxEvents; });\n}\nfunction limitByMaxRows(hiddenCnts, segIsHidden, colPlacements, dayMaxEventRows) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement, levelIndex) { return levelIndex < dayMaxEventRows; });\n}\n/*\npopulates the given hiddenCnts/segIsHidden, which are supplied empty.\nTODO: return them instead\n*/\nfunction limitEvents(hiddenCnts, segIsHidden, colPlacements, _moreLinkConsumesLevel, isPlacementInBounds) {\n    var colCnt = hiddenCnts.length;\n    var segIsVisible = {}; // TODO: instead, use segIsHidden with true/false?\n    var visibleColPlacements = []; // will mirror colPlacements\n    for (var col = 0; col < colCnt; col += 1) {\n        visibleColPlacements.push([]);\n    }\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var level = 0;\n        for (var _i = 0, placements_2 = placements; _i < placements_2.length; _i++) {\n            var placement = placements_2[_i];\n            if (isPlacementInBounds(placement, level)) {\n                recordVisible(placement);\n            }\n            else {\n                recordHidden(placement, level, _moreLinkConsumesLevel);\n            }\n            // only considered a level if the seg had height\n            if (placement.top !== placement.bottom) {\n                level += 1;\n            }\n        }\n    }\n    function recordVisible(placement) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsVisible[instanceId]) {\n            segIsVisible[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var destPlacements = visibleColPlacements[col];\n                var newPosition = 0;\n                // insert while keeping top sorted in each column\n                while (newPosition < destPlacements.length &&\n                    placement.top >= destPlacements[newPosition].top) {\n                    newPosition += 1;\n                }\n                destPlacements.splice(newPosition, 0, placement);\n            }\n        }\n    }\n    function recordHidden(placement, currentLevel, moreLinkConsumesLevel) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsHidden[instanceId]) {\n            segIsHidden[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                hiddenCnts[col] += 1;\n                var hiddenCnt = hiddenCnts[col];\n                if (moreLinkConsumesLevel && hiddenCnt === 1 && currentLevel > 0) {\n                    var doomedLevel = currentLevel - 1;\n                    while (visibleColPlacements[col].length > doomedLevel) {\n                        recordHidden(visibleColPlacements[col].pop(), // removes\n                        visibleColPlacements[col].length, // will execute after the pop. will be the index of the removed placement\n                        false);\n                    }\n                }\n            }\n        }\n    }\n}\n// Given the events within an array of segment objects, reslice them to be in a single day\nfunction resliceDaySegs(segs, dayDate, colIndex) {\n    var dayStart = dayDate;\n    var dayEnd = addDays(dayStart, 1);\n    var dayRange = { start: dayStart, end: dayEnd };\n    var newSegs = [];\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        var eventRange = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange = intersectRanges(origRange, dayRange);\n        if (slicedRange) {\n            newSegs.push(__assign(__assign({}, seg), { firstCol: colIndex, lastCol: colIndex, eventRange: {\n                    def: eventRange.def,\n                    ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n                    instance: eventRange.instance,\n                    range: slicedRange,\n                }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n        }\n    }\n    return newSegs;\n}\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(props.cells, props.fgEventSegs, props.dayMaxEvents, props.dayMaxEventRows, state.segHeights, state.maxContentHeight, colCnt, context.options.eventOrder), paddingBottoms = _b.paddingBottoms, segsByFirstCol = _b.segsByFirstCol, segsByEachCol = _b.segsByEachCol, segIsHidden = _b.segIsHidden, segTops = _b.segTops, segMarginTops = _b.segMarginTops, moreCnts = _b.moreCnts, moreTops = _b.moreTops;\n        var selectedInstanceHash = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(segsByFirstCol[col], segIsHidden, segTops, segMarginTops, selectedInstanceHash, props.todayRange);\n                var mirrorFgNodes = _this.renderFgSegs(mirrorSegsByCol[col], {}, segTops, // use same tops as real rendering\n                {}, {}, props.todayRange, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, moreCnt: moreCnts[col], buildMoreLinkText: props.buildMoreLinkText, onMoreClick: function (arg) {\n                        props.onMoreClick(__assign(__assign({}, arg), { fromCol: col }));\n                    }, segIsHidden: segIsHidden, moreMarginTop: moreTops[col] /* rename */, segsByEachCol: segsByEachCol[col], fgPaddingBottom: paddingBottoms[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (segs, segIsHidden, // does NOT mean display:hidden\n    segTops, segMarginTops, selectedInstanceHash, todayRange, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isMirror = isDragging || isResizing || isDateSelecting;\n                var isSelected = selectedInstanceHash[instanceId];\n                var isInvisible = segIsHidden[instanceId] || isSelected;\n                // TODO: simpler way? NOT DRY\n                var isAbsolute = segIsHidden[instanceId] || isMirror || seg.firstCol !== seg.lastCol || !seg.isStart || !seg.isEnd;\n                var marginTop = void 0;\n                var top_1 = void 0;\n                var left = void 0;\n                var right = void 0;\n                if (isAbsolute) {\n                    top_1 = segTops[instanceId];\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                else {\n                    marginTop = segMarginTops[instanceId];\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: instanceId, \n                    // in print mode when in mult cols, could collide\n                    ref: isMirror ? null : this.segHarnessRefs.createRef(instanceId + ':' + seg.firstCol), style: {\n                        visibility: isInvisible ? 'hidden' : '',\n                        marginTop: marginTop || '',\n                        top: top_1 || '',\n                        left: left || '',\n                        right: right || '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n                var seg = segs_2[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (props.clientWidth !== null) { // positioning ready?\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                segHeights: this.computeSegHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.computeSegHeights = function () {\n        return mapHash(this.segHarnessRefs.currentMap, function (eventHarnessEl) { return (eventHarnessEl.getBoundingClientRect().height); });\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addPropsEquality({\n    onMoreClick: true,\n});\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar SCROLL_DEBOUNCE = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.repositioner = new DelayedRunner(_this.updateSize.bind(_this));\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            var onClose = _this.props.onClose;\n            // only hide the popover if the click happened outside the popover\n            if (onClose && !_this.rootEl.contains(ev.target)) {\n                onClose();\n            }\n        };\n        _this.handleDocumentScroll = function () {\n            _this.repositioner.request(SCROLL_DEBOUNCE);\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return (createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)));\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        document.addEventListener('scroll', this.handleDocumentScroll);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n        document.removeEventListener('scroll', this.handleDocumentScroll);\n    };\n    // TODO: adjust on window resize\n    /*\n    NOTE: the popover is position:fixed, so coordinates are relative to the viewport\n    NOTE: the PARENT calls this as well, on window resize. we would have wanted to use the repositioner,\n          but need to ensure that all other components have updated size first (for alignmentEl)\n    */\n    Popover.prototype.updateSize = function () {\n        var _a = this.props, alignmentEl = _a.alignmentEl, topAlignmentEl = _a.topAlignmentEl;\n        var rootEl = this.rootEl;\n        if (!rootEl) {\n            return; // not sure why this was null, but we shouldn't let external components call updateSize() anyway\n        }\n        var dims = rootEl.getBoundingClientRect(); // only used for width,height\n        var alignment = alignmentEl.getBoundingClientRect();\n        var top = topAlignmentEl ? topAlignmentEl.getBoundingClientRect().top : alignment.top;\n        top = Math.min(top, window.innerHeight - dims.height - PADDING_FROM_VIEWPORT);\n        top = Math.max(top, PADDING_FROM_VIEWPORT);\n        var left;\n        if (this.context.isRtl) {\n            left = alignment.right - dims.width;\n        }\n        else {\n            left = alignment.left;\n        }\n        left = Math.min(left, window.innerWidth - dims.width - PADDING_FROM_VIEWPORT);\n        left = Math.max(left, PADDING_FROM_VIEWPORT);\n        applyStyle(rootEl, { top: top, left: left });\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var date = props.date, hiddenInstances = props.hiddenInstances, todayRange = props.todayRange, dateProfile = props.dateProfile, selectedInstanceId = props.selectedInstanceId;\n        var title = dateEnv.format(date, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: todayRange, elRef: this.rootElRef }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs, onClose: props.onCloseClick, alignmentEl: props.alignmentEl, topAlignmentEl: props.topAlignmentEl },\n            createElement(DayCellContent, { date: date, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.segs.map(function (seg) {\n                var instanceId = seg.eventRange.instance.instanceId;\n                return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                        visibility: hiddenInstances[instanceId] ? 'hidden' : '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange))))));\n            }))); }));\n    };\n    MorePopover.prototype.positionToHit = function (positionLeft, positionTop, originEl) {\n        var rootEl = this.rootElRef.current;\n        if (!originEl || !rootEl) { // why?\n            return null;\n        }\n        var originRect = originEl.getBoundingClientRect();\n        var elRect = rootEl.getBoundingClientRect();\n        var newOriginLeft = elRect.left - originRect.left;\n        var newOriginTop = elRect.top - originRect.top;\n        var localLeft = positionLeft - newOriginLeft;\n        var localTop = positionTop - newOriginTop;\n        var date = this.props.date;\n        if ( // ugly way to detect intersection\n        localLeft >= 0 && localLeft < elRect.width &&\n            localTop >= 0 && localTop < elRect.height) {\n            return {\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) },\n                },\n                dayEl: rootEl,\n                relativeRect: {\n                    left: newOriginLeft,\n                    top: newOriginTop,\n                    right: elRect.width,\n                    bottom: elRect.height,\n                },\n                layer: 1,\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.buildBuildMoreLinkText = memoize(buildBuildMoreLinkText);\n        _this.morePopoverRef = createRef();\n        _this.rowRefs = new RefMap();\n        _this.state = {\n            morePopoverState: null,\n        };\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            setRef(_this.props.elRef, rootEl);\n        };\n        // TODO: bad names \"more link click\" versus \"more click\"\n        _this.handleMoreLinkClick = function (arg) {\n            var context = _this.context;\n            var dateEnv = context.dateEnv;\n            var clickOption = context.options.moreLinkClick;\n            function segForPublic(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: dateEnv.toDate(range.start),\n                    end: dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof clickOption === 'function') {\n                clickOption = clickOption({\n                    date: dateEnv.toDate(arg.date),\n                    allDay: true,\n                    allSegs: arg.allSegs.map(segForPublic),\n                    hiddenSegs: arg.hiddenSegs.map(segForPublic),\n                    jsEvent: arg.ev,\n                    view: context.viewApi,\n                }); // hack to handle void\n            }\n            if (!clickOption || clickOption === 'popover') {\n                _this.setState({\n                    morePopoverState: __assign(__assign({}, arg), { currentFgEventSegs: _this.props.fgEventSegs, fromRow: arg.fromRow, fromCol: arg.fromCol }),\n                });\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                context.calendarApi.zoomTo(arg.date, clickOption);\n            }\n        };\n        _this.handleMorePopoverClose = function () {\n            _this.setState({\n                morePopoverState: null,\n            });\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var morePopoverState = this.state.morePopoverState;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var buildMoreLinkText = this.buildBuildMoreLinkText(this.context.options.moreLinkText);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, buildMoreLinkText: buildMoreLinkText, onMoreClick: function (arg) {\n                            _this.handleMoreLinkClick(__assign(__assign({}, arg), { fromRow: row }));\n                        } })); }))),\n                (!props.forPrint && morePopoverState && morePopoverState.currentFgEventSegs === props.fgEventSegs) && (createElement(MorePopover, { ref: _this.morePopoverRef, date: morePopoverState.date, dateProfile: dateProfile, segs: morePopoverState.allSegs, alignmentEl: morePopoverState.dayEl, topAlignmentEl: rowCnt === 1 ? props.headerAlignElRef.current : null, onCloseClick: _this.handleMorePopoverClose, selectedInstanceId: props.eventSelection, hiddenInstances: // yuck\n                    (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                        (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                        {}, todayRange: todayRange })))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.positionToHit = function (leftPosition, topPosition) {\n        var morePopover = this.morePopoverRef.current;\n        var morePopoverHit = morePopover ? morePopover.positionToHit(leftPosition, topPosition, this.rootEl) : null;\n        var morePopoverState = this.state.morePopoverState;\n        if (morePopoverHit) {\n            return __assign({ row: morePopoverState.fromRow, col: morePopoverState.fromCol }, morePopoverHit);\n        }\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true,\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction buildBuildMoreLinkText(moreLinkTextInput) {\n    if (typeof moreLinkTextInput === 'function') {\n        return moreLinkTextInput;\n    }\n    return function (num) { return \"+\" + num + \" \" + moreLinkTextInput; };\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef, elRef: this.handleRootEl }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    DayTable.prototype.prepareHits = function () {\n        this.tableRef.current.prepareHits();\n    };\n    DayTable.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.tableRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar OPTION_REFINERS = {\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, DateComponent, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, sortEventSegs, compareByFieldSpecs, buildSegCompareObj, StandardEvent, DayCellContent, config, DayCellRoot, getSegMeta, buildEventRangeKey, BgEvent, renderFill, Fragment, memoize, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slatMetas) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slatMetas = slatMetas;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile, slatMetas = _a.slatMetas;\n        var len = positions.els.length;\n        // we assume dates are uniform\n        var slotDurationMs = slatMetas[1].date.valueOf() - slatMetas[0].date.valueOf();\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / slotDurationMs;\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var props = this.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, props.slatMetas));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\n// UNFORTUNATELY, assigns results to the top/bottom/level/forwardCoord/backwardCoord props of the actual segs.\n// TODO: return hash (by instanceId) of results\nfunction computeSegCoords(segs, dayDate, slatCoords, eventMinHeight, eventOrderSpecs) {\n    computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight);\n    return computeSegHorizontals(segs, eventOrderSpecs); // requires top/bottom from computeSegVerticals\n}\n// For each segment in an array, computes and assigns its top and bottom properties\nfunction computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight) {\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        seg.top = slatCoords.computeDateTop(seg.start, dayDate);\n        seg.bottom = Math.max(seg.top + (eventMinHeight || 0), // yuck\n        slatCoords.computeDateTop(seg.end, dayDate));\n    }\n}\n// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n// Assumed the segs are already ordered.\n// NOTE: Also reorders the given array by date!\nfunction computeSegHorizontals(segs, eventOrderSpecs) {\n    // IMPORTANT TO CLEAR OLD RESULTS :(\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        seg.level = null;\n        seg.forwardCoord = null;\n        seg.backwardCoord = null;\n        seg.forwardPressure = null;\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    var level0;\n    var levels = buildSlotSegLevels(segs);\n    computeForwardSlotSegs(levels);\n    if ((level0 = levels[0])) {\n        for (var _a = 0, level0_1 = level0; _a < level0_1.length; _a++) {\n            var seg = level0_1[_a];\n            computeSlotSegPressures(seg);\n        }\n        for (var _b = 0, level0_2 = level0; _b < level0_2.length; _b++) {\n            var seg = level0_2[_b];\n            computeSegForwardBack(seg, 0, 0, eventOrderSpecs);\n        }\n    }\n    return segs;\n}\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n    var levels = [];\n    var i;\n    var seg;\n    var j;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        // go through all the levels and stop on the first level where there are no collisions\n        for (j = 0; j < levels.length; j += 1) {\n            if (!computeSlotSegCollisions(seg, levels[j]).length) {\n                break;\n            }\n        }\n        seg.level = j;\n        (levels[j] || (levels[j] = [])).push(seg);\n    }\n    return levels;\n}\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\n    if (results === void 0) { results = []; }\n    for (var i = 0; i < otherSegs.length; i += 1) {\n        if (isSlotSegCollision(seg, otherSegs[i])) {\n            results.push(otherSegs[i]);\n        }\n    }\n    return results;\n}\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n    return seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n}\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n    var i;\n    var level;\n    var j;\n    var seg;\n    var k;\n    for (i = 0; i < levels.length; i += 1) {\n        level = levels[i];\n        for (j = 0; j < level.length; j += 1) {\n            seg = level[j];\n            seg.forwardSegs = [];\n            for (k = i + 1; k < levels.length; k += 1) {\n                computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n            }\n        }\n    }\n}\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n    var forwardSegs = seg.forwardSegs;\n    var forwardPressure = 0;\n    var i;\n    var forwardSeg;\n    if (seg.forwardPressure == null) { // not already computed\n        for (i = 0; i < forwardSegs.length; i += 1) {\n            forwardSeg = forwardSegs[i];\n            // figure out the child's maximum forward path\n            computeSlotSegPressures(forwardSeg);\n            // either use the existing maximum, or use the child's forward pressure\n            // plus one (for the forwardSeg itself)\n            forwardPressure = Math.max(forwardPressure, 1 + forwardSeg.forwardPressure);\n        }\n        seg.forwardPressure = forwardPressure;\n    }\n}\n// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n//\n// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n// coordinate of the first segment in the series.\nfunction computeSegForwardBack(seg, seriesBackwardPressure, seriesBackwardCoord, eventOrderSpecs) {\n    var forwardSegs = seg.forwardSegs;\n    var i;\n    if (seg.forwardCoord == null) { // not already computed\n        if (!forwardSegs.length) {\n            // if there are no forward segments, this segment should butt up against the edge\n            seg.forwardCoord = 1;\n        }\n        else {\n            // sort highest pressure first\n            sortForwardSegs(forwardSegs, eventOrderSpecs);\n            // this segment's forwardCoord will be calculated from the backwardCoord of the\n            // highest-pressure forward segment.\n            computeSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord, eventOrderSpecs);\n            seg.forwardCoord = forwardSegs[0].backwardCoord;\n        }\n        // calculate the backwardCoord from the forwardCoord. consider the series\n        seg.backwardCoord = seg.forwardCoord -\n            (seg.forwardCoord - seriesBackwardCoord) / // available width for series\n                (seriesBackwardPressure + 1); // # of segments in the series\n        // use this segment's coordinates to computed the coordinates of the less-pressurized\n        // forward segments\n        for (i = 0; i < forwardSegs.length; i += 1) {\n            computeSegForwardBack(forwardSegs[i], 0, seg.forwardCoord, eventOrderSpecs);\n        }\n    }\n}\nfunction sortForwardSegs(forwardSegs, eventOrderSpecs) {\n    var objs = forwardSegs.map(buildTimeGridSegCompareObj);\n    var specs = [\n        // put higher-pressure first\n        { field: 'forwardPressure', order: -1 },\n        // put segments that are closer to initial edge first (and favor ones with no coords yet)\n        { field: 'backwardCoord', order: 1 },\n    ].concat(eventOrderSpecs);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, specs); });\n    return objs.map(function (c) { return c._seg; });\n}\nfunction buildTimeGridSegCompareObj(seg) {\n    var obj = buildSegCompareObj(seg);\n    obj.forwardPressure = seg.forwardPressure;\n    obj.backwardCoord = seg.backwardCoord;\n    return obj;\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isCondensed) {\n            classNames.push('fc-timegrid-event-condensed');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nconfig.timeGridEventCondensedHeight = 30;\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(props.fgEventSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return this.renderPrintFgSegs(segs);\n        }\n        if (props.slatCoords) {\n            return this.renderPositionedFgSegs(segs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n        return null;\n    };\n    TimeCol.prototype.renderPrintFgSegs = function (segs) {\n        var _a = this, props = _a.props, context = _a.context;\n        // not DRY\n        segs = sortEventSegs(segs, context.options.eventOrder);\n        return segs.map(function (seg) { return (createElement(\"div\", { className: \"fc-timegrid-event-harness\", key: seg.eventRange.instance.instanceId },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isCondensed: false }, getSegMeta(seg, props.todayRange, props.nowDate))))); });\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        // assigns TO THE SEGS THEMSELVES\n        // also, receives resorted array\n        segs = computeSegCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight, context.options.eventOrder);\n        return segs.map(function (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            var isMirror = isDragging || isResizing || isDateSelecting;\n            var positionCss = isMirror\n                // will span entire column width\n                // also, won't assign z-index, which is good, fc-event-mirror will overpower other harnesses\n                ? __assign({ left: 0, right: 0 }, _this.computeSegTopBottomCss(seg)) : _this.computeFgSegPositionCss(seg);\n            return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (seg.level > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === props.eventSelection, isCondensed: (seg.bottom - seg.top) < config.timeGridEventCondensedHeight }, getSegMeta(seg, props.todayRange, props.nowDate)))));\n        });\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        if (!props.slatCoords) {\n            return null;\n        }\n        // BAD: assigns TO THE SEGS THEMSELVES\n        computeSegVerticals(segs, props.date, props.slatCoords, context.options.eventMinHeight);\n        var children = segs.map(function (seg) { return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: _this.computeSegTopBottomCss(seg) }, fillType === 'bg-event' ?\n            createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n            renderFill(fillType))); });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeFgSegPositionCss = function (seg) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n        var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - forwardCoord;\n            right = backwardCoord;\n        }\n        else {\n            left = backwardCoord;\n            right = 1 - forwardCoord;\n        }\n        var props = {\n            zIndex: seg.level + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && seg.forwardPressure) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return __assign(__assign({}, props), this.computeSegTopBottomCss(seg));\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (seg) {\n        return {\n            top: seg.top,\n            bottom: -seg.bottom,\n        };\n    };\n    return TimeCol;\n}(BaseComponent));\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: props.rootElRef, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.positionToHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                col: colIndex,\n                dateSpan: {\n                    range: { start: start, end: end },\n                    allDay: false,\n                },\n                dayEl: colCoords.els[colIndex],\n                relativeRect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(BaseComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef, rootElRef: _this.handleRootEl }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    DayTimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.timeColsRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true,\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { getDateMeta, buildNavLinkData, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.props, dayDate = _a.dayDate, todayRange = _a.todayRange;\n        var _b = this.context, theme = _b.theme, dateEnv = _b.dateEnv, options = _b.options, viewApi = _b.viewApi;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var navLinkData = options.navLinks\n            ? buildNavLinkData(dayDate)\n            : null;\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, text: text,\n            sideText: sideText,\n            navLinkData: navLinkData }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { colSpan: 3 },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    var navLinkAttrs = props.navLinkData // is there a type for this?\n        ? { 'data-navlink': props.navLinkData, tabIndex: 0 }\n        : {};\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ className: \"fc-list-day-text\" }, navLinkAttrs), props.text)),\n        props.sideText && (createElement(\"a\", __assign({ className: \"fc-list-day-side-text\" }, navLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: renderEventInnerContent, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context),\n            createElement(\"td\", { className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { className: \"fc-list-event-title\", ref: innerElRef }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(props) {\n    var event = props.event;\n    var url = event.url;\n    var anchorAttrs = url ? { href: url } : {};\n    return (createElement(\"a\", __assign({}, anchorAttrs), event.title));\n}\nfunction buildTimeContent(seg, timeFormat, context) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { className: ['fc-list-event-time'].concat(classNames).join(' '), ref: rootElRef }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = dayDates[dayIndex].toISOString();\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' },\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' },\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' },\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, isInteractionValid, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    var dateProfile = component.context.getCurrentData().dateProfile;\n                    if (hit &&\n                        (\n                        // make sure the hit is within activeRange, meaning it's not a deal cell\n                        rangeContainsRange(dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                dragSelection = joinHitsIntoSelection(_this.hitDragging.initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                if (!dragSelection || !_this.component.isDateSelectionValid(dragSelection)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay$1(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var receivingComponent = hit.component;\n                receivingContext = receivingComponent.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!receivingComponent.isInteractionValid(interaction)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.component.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.component.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.component.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.component.context.dateEnv, hit0.component === hit1.component ?\n        hit0.component.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range, context.pluginHooks.eventResizeJoinTransforms);\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!_this.component.isInteractionValid(interaction)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange, transforms) {\n    var dateEnv = hit0.component.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.component.largeUnit);\n    var props = {};\n    for (var _i = 0, transforms_1 = transforms; _i < transforms_1.length; _i++) {\n        var transform = transforms_1[_i];\n        var res = transform(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            props.startDelta = delta;\n            return props;\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        props.endDelta = delta;\n        return props;\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.component.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.component.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","// Full Calendar Plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport listPlugin from '@fullcalendar/list'\nimport interactionPlugin from '@fullcalendar/interaction'\n\n// Notification\n// import { useToast } from 'vue-toastification/composition'\n// import ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\n// eslint-disable-next-line object-curly-newline\nimport { ref, computed, watch, onMounted } from '@vue/composition-api'\nimport store from '@/store'\n\nexport default function userCalendar() {\n  // Use toast\n  // const toast = useToast()\n  // ------------------------------------------------\n  // refCalendar\n  // ------------------------------------------------\n  const refCalendar = ref(null)\n\n  // ------------------------------------------------\n  // calendarApi\n  // ------------------------------------------------\n  let calendarApi = null\n  onMounted(() => {\n    calendarApi = refCalendar.value.getApi()\n  })\n\n  // ------------------------------------------------\n  // calendars\n  // ------------------------------------------------\n  const calendarsColor = {\n    Business: 'primary',\n    Holiday: 'success',\n    Personal: 'danger',\n    Family: 'warning',\n    ETC: 'info',\n  }\n\n  // ------------------------------------------------\n  // event\n  // ------------------------------------------------\n  const blankEvent = {\n    title: '',\n    start: '',\n    end: '',\n    allDay: false,\n    url: '',\n    extendedProps: {\n      calendar: '',\n      guests: [],\n      location: '',\n      description: '',\n    },\n  }\n  const event = ref(JSON.parse(JSON.stringify(blankEvent)))\n  const clearEventData = () => {\n    event.value = JSON.parse(JSON.stringify(blankEvent))\n  }\n\n  // *===========================================================================---*\n  // *--------- Calendar API Function/Utils --------------------------------------------*\n  // Template Future Update: We might move this utils function in its own file\n  // *===========================================================================---*\n\n  // ------------------------------------------------\n  // (UI) addEventInCalendar\n  // ? This is useless because this just add event in calendar and not in our data\n  // * If we try to call it on new event then callback & try to toggle from calendar we get two events => One from UI and one from data\n  // ------------------------------------------------\n  // const addEventInCalendar = eventData => {\n  //   toast({\n  //     component: ToastificationContent,\n  //     position: 'bottom-right',\n  //     props: {\n  //       title: 'Event Added',\n  //       icon: 'CheckIcon',\n  //       variant: 'success',\n  //     },\n  //   })\n  //   calendarApi.addEvent(eventData)\n  // }\n\n  // ------------------------------------------------\n  // (UI) updateEventInCalendar\n  // ------------------------------------------------\n  const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\n    /*\n    toast({\n      component: ToastificationContent,\n      props: {\n        title: 'Event Updated',\n        icon: 'CheckIcon',\n        variant: 'success',\n      },\n    })\n    */\n\n    const existingEvent = calendarApi.getEventById(updatedEventData.id)\n\n    // --- Set event properties except date related ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setProp\n    // dateRelatedProps => ['start', 'end', 'allDay']\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < propsToUpdate.length; index++) {\n      const propName = propsToUpdate[index]\n      existingEvent.setProp(propName, updatedEventData[propName])\n    }\n\n    // --- Set date related props ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setDates\n    existingEvent.setDates(updatedEventData.start, updatedEventData.end, { allDay: updatedEventData.allDay })\n\n    // --- Set event's extendedProps ----- //\n    // ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\n    // eslint-disable-next-line no-plusplus\n    for (let index = 0; index < extendedPropsToUpdate.length; index++) {\n      const propName = extendedPropsToUpdate[index]\n      existingEvent.setExtendedProp(propName, updatedEventData.extendedProps[propName])\n    }\n  }\n\n  // ------------------------------------------------\n  // (UI) removeEventInCalendar\n  // ------------------------------------------------\n  /*\n  const removeEventInCalendar = eventId => {\n    toast({\n      component: ToastificationContent,\n      position: 'bottom-right',\n      props: {\n        title: 'Event Removed',\n        icon: 'TrashIcon',\n        variant: 'danger',\n      },\n    })\n    calendarApi.getEventById(eventId).remove()\n  }\n  */\n\n  // ------------------------------------------------\n  // grabEventDataFromEventApi\n  // ? It will return just event data from fullCalendar's EventApi which is not required for event mutations and other tasks\n  // ! You need to update below function as per your extendedProps\n  // ------------------------------------------------\n  const grabEventDataFromEventApi = eventApi => {\n    const {\n      id,\n      title,\n      start,\n      end,\n      // eslint-disable-next-line object-curly-newline\n      extendedProps: { calendar, guests, location, description },\n      allDay,\n    } = eventApi\n\n    return {\n      id,\n      title,\n      start,\n      end,\n      extendedProps: {\n        calendar,\n        guests,\n        location,\n        description,\n      },\n      allDay,\n    }\n  }\n\n  // ------------------------------------------------\n  // addEvent\n  // ------------------------------------------------\n  const addEvent = eventData => {\n    store.dispatch('calendar/addEvent', { event: eventData }).then(() => {\n      // eslint-disable-next-line no-use-before-define\n      refetchEvents()\n    })\n  }\n\n  // ------------------------------------------------\n  // updateEvent\n  // ------------------------------------------------\n  const updateEvent = eventData => {\n    store.dispatch('calendar/updateEvent', { event: eventData }).then(response => {\n      const updatedEvent = response.data.event\n\n      const propsToUpdate = ['id', 'title', 'url']\n      const extendedPropsToUpdate = ['calendar', 'guests', 'location', 'description']\n\n      updateEventInCalendar(updatedEvent, propsToUpdate, extendedPropsToUpdate)\n    })\n  }\n\n  // ------------------------------------------------\n  // removeEvent\n  // ------------------------------------------------\n  const removeEvent = () => {\n    const eventId = event.value.id\n    store.dispatch('calendar/removeEvent', { id: eventId }).then(() => {\n      // removeEventInCalendar(eventId)\n    })\n  }\n\n  // ------------------------------------------------\n  // refetchEvents\n  // ------------------------------------------------\n  const refetchEvents = () => {\n    calendarApi.refetchEvents()\n  }\n\n  // ------------------------------------------------\n  // selectedCalendars\n  // ------------------------------------------------\n  const selectedCalendars = computed(() => store.state.calendar.selectedCalendars)\n\n  watch(selectedCalendars, () => {\n    refetchEvents()\n  })\n\n  // --------------------------------------------------------------------------------------------------\n  // AXIOS: fetchEvents\n  // * This will be called by fullCalendar to fetch events. Also this can be used to refetch events.\n  // --------------------------------------------------------------------------------------------------\n  const fetchEvents = (info, successCallback) => {\n    // If there's no info => Don't make useless API call\n    if (!info) return\n\n    // Fetch Events from API endpoint\n    store\n      .dispatch('calendar/fetchEvents', {\n        calendars: selectedCalendars.value,\n      })\n      .then(response => {\n        successCallback(response.data)\n      })\n      .catch(() => {\n        /*\n        toast({\n          component: ToastificationContent,\n          props: {\n            title: 'Error fetching calendar events',\n            icon: 'AlertTriangleIcon',\n            variant: 'danger',\n          },\n        })\n        */\n      })\n  }\n\n  // ------------------------------------------------------------------------\n  // calendarOptions\n  // * This isn't considered in UI because this is the core of calendar app\n  // ------------------------------------------------------------------------\n  const calendarOptions = ref({\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\n    initialView: 'listMonth',\n    headerToolbar: {\n      start: 'sidebarToggle, prev,next, title',\n      end: 'listMonth,dayGridMonth',\n    },\n    events: fetchEvents,\n\n    /*\n      Enable dragging and resizing event\n      ? Docs: https://fullcalendar.io/docs/editable\n    */\n    editable: true,\n\n    /*\n      Enable resizing event from start\n      ? Docs: https://fullcalendar.io/docs/eventResizableFromStart\n    */\n    eventResizableFromStart: true,\n\n    /*\n      Automatically scroll the scroll-containers during event drag-and-drop and date selecting\n      ? Docs: https://fullcalendar.io/docs/dragScroll\n    */\n    dragScroll: true,\n\n    /*\n      Max number of events within a given day\n      ? Docs: https://fullcalendar.io/docs/dayMaxEvents\n    */\n    dayMaxEvents: 2,\n\n    /*\n      Determines if day names and week names are clickable\n      ? Docs: https://fullcalendar.io/docs/navLinks\n    */\n    navLinks: true,\n\n    eventClassNames({ event: calendarEvent }) {\n      // eslint-disable-next-line no-underscore-dangle\n      const colorName = calendarsColor[calendarEvent._def.extendedProps.calendar]\n\n      return [\n        // Background Color\n        `bg-light-${colorName}`,\n      ]\n    },\n    eventClick({ event: clickedEvent }) {\n      // * Only grab required field otherwise it goes in infinity loop\n      // ! Always grab all fields rendered by form (even if it get `undefined`) otherwise due to Vue3/Composition API you might get: \"object is not extensible\"\n      event.value = grabEventDataFromEventApi(clickedEvent)\n\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    customButtons: {\n      sidebarToggle: {\n        // --- This dummy text actual icon rendering is handled using SCSS ----- //\n        text: 'sidebar',\n        click() {\n          // eslint-disable-next-line no-use-before-define\n          isCalendarOverlaySidebarActive.value = !isCalendarOverlaySidebarActive.value\n        },\n      },\n    },\n\n    dateClick(info) {\n      /*\n        ! Vue3 Change\n        Using Vue.set isn't working for now so we will try to check reactivity in Vue 3 as it can handle this automatically\n        ```\n        event.value.start = info.date\n        ```\n      */\n      event.value = JSON.parse(JSON.stringify(Object.assign(event.value, { start: info.date })))\n      // eslint-disable-next-line no-use-before-define\n      isEventHandlerSidebarActive.value = true\n    },\n\n    /*\n      Handle event drop (Also include dragged event)\n      ? Docs: https://fullcalendar.io/docs/eventDrop\n      ? We can use `eventDragStop` but it doesn't return updated event so we have to use `eventDrop` which returns updated event\n    */\n    eventDrop({ event: droppedEvent }) {\n      updateEvent(grabEventDataFromEventApi(droppedEvent))\n    },\n\n    /*\n      Handle event resize\n      ? Docs: https://fullcalendar.io/docs/eventResize\n    */\n    eventResize({ event: resizedEvent }) {\n      updateEvent(grabEventDataFromEventApi(resizedEvent))\n    },\n\n    // Get direction from app state (store)\n    direction: computed(() => (store.state.appConfig.isRTL ? 'rtl' : 'ltr')),\n    rerenderDelay: 350,\n  })\n\n  // ------------------------------------------------------------------------\n\n  // *===============================================---*\n  // *--------- UI ---------------------------------------*\n  // *===============================================---*\n\n  const isEventHandlerSidebarActive = ref(false)\n\n  const isCalendarOverlaySidebarActive = ref(false)\n\n  return {\n    refCalendar,\n    isCalendarOverlaySidebarActive,\n    calendarOptions,\n    event,\n    clearEventData,\n    addEvent,\n    updateEvent,\n    removeEvent,\n    refetchEvents,\n    fetchEvents,\n\n    // ----- UI ----- //\n    isEventHandlerSidebarActive,\n  }\n}\n","<template>\n  <div class=\"app-calendar overflow-hidden border\">\n    <div class=\"row no-gutters\">\n      <!-- Sidebar -->\n      <div\n        class=\"col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n      >\n        <calendar-sidebar :is-event-handler-sidebar-active.sync=\"isEventHandlerSidebarActive\" />\n      </div>\n\n      <!-- Calendar -->\n      <div class=\"col position-relative\">\n        <div class=\"card shadow-none border-0 mb-0 rounded-0\">\n          <div class=\"card-body pb-0\">\n            <full-calendar\n              ref=\"refCalendar\"\n              :options=\"calendarOptions\"\n              class=\"full-calendar\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Sidebar Overlay -->\n      <div\n        class=\"body-content-overlay\"\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\n        @click=\"isCalendarOverlaySidebarActive = false\"\n      />\n      <calendar-event-handler\n        v-model=\"isEventHandlerSidebarActive\"\n        :event=\"event\"\n        :clear-event-data=\"clearEventData\"\n        @remove-event=\"removeEvent\"\n        @add-event=\"addEvent\"\n        @update-event=\"updateEvent\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport FullCalendar from '@fullcalendar/vue'\nimport store from '@/store'\nimport { onUnmounted } from '@vue/composition-api'\nimport calendarStoreModule from './calendarStoreModule'\nimport CalendarSidebar from './calendar-sidebar/CalendarSidebar.vue'\nimport CalendarEventHandler from './calendar-event-handler/CalendarEventHandler.vue'\nimport useCalendar from './useCalendar'\n\nexport default {\n  components: {\n    FullCalendar, // make the <FullCalendar> tag available\n    CalendarSidebar,\n    CalendarEventHandler,\n  },\n  setup() {\n    const CALENDAR_APP_STORE_MODULE_NAME = 'calendar'\n\n    // Register module\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule)\n\n    // UnRegister on leave\n    onUnmounted(() => {\n      if (store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.unregisterModule(CALENDAR_APP_STORE_MODULE_NAME)\n    })\n\n    const {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      fetchEvents,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    } = useCalendar()\n\n    fetchEvents()\n\n    return {\n      refCalendar,\n      isCalendarOverlaySidebarActive,\n      event,\n      clearEventData,\n      addEvent,\n      updateEvent,\n      removeEvent,\n      refetchEvents,\n      calendarOptions,\n\n      // ----- UI ----- //\n      isEventHandlerSidebarActive,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"@core/scss/vue/apps/calendar.scss\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=1b605b4a&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    {{ storeInfo }}\n    <h1>My Reports:</h1>\n    <calendar />\n  </div>\n</template>\n<script>\nimport Calendar from '@/components/calendar/Calendar.vue'\n\nexport default {\n  components: {\n    Calendar,\n  },\n  data() {\n    return {\n      search: '',\n      storeInfo: null,\n    }\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=0a2fb84c&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/5-small.a4eb6d6e.png\";","var Ripple = {\n    bind: function(el, binding){\n\n        // Default values.\n        var props = {\n            event: 'mousedown',\n            transition: 600\n        };\n\n        setProps(Object.keys(binding.modifiers),props);\n\n        el.addEventListener(props.event, function(event) {\n            rippler(event, el, binding.value);\n        });\n\n        var bg = binding.value || Ripple.color || 'rgba(0, 0, 0, 0.35)';\n        var zIndex = Ripple.zIndex || '9999';\n\n        function rippler(event, el) {\n            var target = el;\n            // Get border to avoid offsetting on ripple container position\n            var targetBorder = parseInt((getComputedStyle(target).borderWidth).replace('px', ''));\n\n            // Get necessary variables\n            var rect        = target.getBoundingClientRect(),\n                left        = rect.left,\n                top         = rect.top,\n                width       = target.offsetWidth,\n                height      = target.offsetHeight,\n                dx          = event.clientX - left,\n                dy          = event.clientY - top,\n                maxX        = Math.max(dx, width - dx),\n                maxY        = Math.max(dy, height - dy),\n                style       = window.getComputedStyle(target),\n                radius      = Math.sqrt((maxX * maxX) + (maxY * maxY)),\n                border      = (targetBorder > 0 ) ? targetBorder : 0;\n\n            // Create the ripple and its container\n            var ripple = document.createElement(\"div\"),\n                rippleContainer = document.createElement(\"div\");\n                rippleContainer.className = 'ripple-container';\n                ripple.className = 'ripple';\n\n            //Styles for ripple\n            ripple.style.marginTop= '0px';\n            ripple.style.marginLeft= '0px';\n            ripple.style.width= '1px';\n            ripple.style.height= '1px';\n            ripple.style.transition= 'all ' + props.transition + 'ms cubic-bezier(0.4, 0, 0.2, 1)';\n            ripple.style.borderRadius= '50%';\n            ripple.style.pointerEvents= 'none';\n            ripple.style.position= 'relative';\n            ripple.style.zIndex= zIndex;\n            ripple.style.backgroundColor  = bg;\n\n            //Styles for rippleContainer\n            rippleContainer.style.position= 'absolute';\n            rippleContainer.style.left = 0 - border + 'px';\n            rippleContainer.style.top = 0 - border + 'px';\n            rippleContainer.style.height = '0';\n            rippleContainer.style.width = '0';\n            rippleContainer.style.pointerEvents = 'none';\n            rippleContainer.style.overflow = 'hidden';\n\n            // Store target position to change it after\n            var storedTargetPosition =  ((target.style.position).length > 0) ? target.style.position : getComputedStyle(target).position;\n            // Change target position to relative to guarantee ripples correct positioning\n            if (storedTargetPosition !== 'relative') {\n                target.style.position = 'relative';\n            }\n\n            rippleContainer.appendChild(ripple);\n            target.appendChild(rippleContainer);\n\n            ripple.style.marginLeft   = dx + \"px\";\n            ripple.style.marginTop    = dy + \"px\";\n\n            // No need to set positioning because ripple should be child of target and to it's relative position.\n            // rippleContainer.style.left    = left + (((window.pageXOffset || document.scrollLeft) - (document.clientLeft || 0)) || 0) + \"px\";\n            // rippleContainer.style.top     = top + (((window.pageYOffset || document.scrollTop) - (document.clientTop || 0)) || 0) + \"px\";\n            rippleContainer.style.width   = width + \"px\";\n            rippleContainer.style.height  = height + \"px\";\n            rippleContainer.style.borderTopLeftRadius  = style.borderTopLeftRadius;\n            rippleContainer.style.borderTopRightRadius  = style.borderTopRightRadius;\n            rippleContainer.style.borderBottomLeftRadius  = style.borderBottomLeftRadius;\n            rippleContainer.style.borderBottomRightRadius  = style.borderBottomRightRadius;\n\n            rippleContainer.style.direction = 'ltr';\n\n            setTimeout(function() {\n                ripple.style.width  = radius * 2 + \"px\";\n                ripple.style.height = radius * 2 + \"px\";\n                ripple.style.marginLeft   = dx - radius + \"px\";\n                ripple.style.marginTop    = dy - radius + \"px\";\n            }, 0);\n\n            function clearRipple() {\n                setTimeout(function() {\n                    ripple.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n                }, 250);\n\n                // Timeout set to get a smooth removal of the ripple\n                setTimeout(function() {\n                    rippleContainer.parentNode.removeChild(rippleContainer);\n                }, 850);\n\n                el.removeEventListener('mouseup', clearRipple, false);\n\n                // After removing event set position to target to it's original one\n                // Timeout it's needed to avoid jerky effect of ripple jumping out parent target\n                setTimeout(function () {\n\n                    var clearPosition = true;\n                    for(var i = 0; i < target.childNodes.length; i++) {\n                        if(target.childNodes[i].className === 'ripple-container') {\n                            clearPosition = false;\n                        }\n                    }\n\n                    if(clearPosition) {\n                        if(storedTargetPosition !== 'static') {\n                            target.style.position = storedTargetPosition;\n                        } else {\n                            target.style.position = '';\n                        }\n                    }\n\n                }, props.transition + 250)\n            }\n\n            if(event.type === 'mousedown') {\n                el.addEventListener('mouseup', clearRipple, false);\n            } else {\n                clearRipple();\n            }\n        }\n    }\n};\n\nfunction setProps(modifiers,props) {\n    modifiers.forEach(function(item) {\n        if(isNaN(Number(item)))\n            props.event = item;\n        else\n            props.transition = item;\n    });\n}\n\nexport default Ripple;","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/9-small.30df7a62.png\";"],"sourceRoot":""}